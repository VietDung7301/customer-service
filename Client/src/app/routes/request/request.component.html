<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gửi yêu cầu</title>

</head>

<body>
    <div class="main">
        <div class="header">
            <div class="header-back">
                <p>AS-K64</p>
            </div>
            <div class="introduce">
                <h2>Đội chăm sóc khách hàng AS-K64</h2>
                <p>Chúng tôi luôn lắng nghe những đóng góp và ý kiến từ bạn. Hãy phản hồi cho Shoppe biết vấn đề của bạn nhé! Chúng tôi sẽ liên hệ lại bạn trong 24h tiếp theo.</p>
            </div>
        </div>

         <form class="content"
               id="feedback-form" [formGroup]="complainForm"
               (ngSubmit)="submitForm()" ngNativeValidate>
            <div class=" com-padding content-container fb-problem ">
                <label for="">* Bạn thắc mắc vấn đề nào</label>
                <select id="problem-select" name="Select" (change)="showOrder()" formControlName="userProblem" required>
                    <option class="specific-problem" value="" selected disabled hidden>Chọn</option>
                    <option class="specific-problem" value="1" >Giao hàng và nhận hàng</option>
                    <option class="specific-problem" value="2" >Trả hàng và hoàn tiền</option>
                    <option class="specific-problem" value="3" >Thanh toán</option>
                    <option class="specific-problem" id="app-error" value="4" >Báo lỗi</option>
                    <option class="specific-problem" value="5" >Câu hỏi chung</option>
                  </select>
            </div>

            <div class="com-padding content-container">
                <label for="user-name">* Tên người dùng</label>
                <input
                    type="text" id ="user-name" placeholder="Input"
                    [value] = "userInfor?userInfor.name:''"
                    formControlName="userAccount"
                    required
                >
            </div>

            <div class="com-padding content-container">
                <label for="email">* Địa chỉ email của bạn</label>
                <input
                    type="email" id ="email" placeholder="Input"
                    [value] = "userInfor?userInfor.email:''"
                    formControlName ="userEmail"
                    required
                >
            </div>

            <div class="com-padding content-container id-order" [class.display]="displayOrder">
                <label for="">* ID đơn hàng</label>
                <span class="fb-btn" id="open-order-btn" (click)="displayModal()">Chọn đơn hàng</span>
                <input id="input-id-order" type="text" [class.display] ="displayInputId" formControlName="orderId" readonly>
            </div>

            <div class="com-padding content-container fb-content">
                <label for="">* Nội dung phản hồi</label>
                <p>Điền thêm nội dung chi tiết thắc mắc/ vấn đề của bạn</p>
                <textarea name="" id="problem-description" form="feedback-form" cols="30" rows="10" placeholder="Input" required formControlName="problemDescription"></textarea>
            </div>

            <div class="send-button">
                <button type="submit" >Gửi</button>
            </div>

        </form>

    </div>
    <div class="modal" [class.display]="display">
        <div class="order-component">

            <div class="order-header">
                <h4>Danh sách đơn hàng</h4>
                <p class="close-btn"(click)="displayModal()">x</p>
            </div>

            <div id="done-list" class="order-list" *ngFor="let order of orders" >
              <h3 class="order-id">Mã đơn hàng : {{order.orderId}}</h3>
              <button #btn class="order-btn fb-btn" value="{{order.orderId}}" (click)="getOrderId(btn)">Lấy mã đơn hàng</button>
              <div *ngFor="let product of order.products" class="product" >
                <h4 class="product-name">Tên sản phẩm: {{product.productName}}</h4>
                <img class="product-img" src="{{product.img}}" alt="" >
                <p  class="product-price">Giá : {{product.price}}VND</p>
              </div>
            </div>
            <!-- <div id="shipping-list" class=" order-list">

            </div> -->
        </div>

    </div>

    <div class="pop-up" [class.display]="displayPopUpSucc">
      <div class="pop-up-content">
        <p>Phản hồi của bạn đã gửi thành công</p>
        <button (click)="reloadPage()">Quay về</button>
      </div>
    </div>

    <div class="pop-up" [class.display]="displayPopUpFail">
      <div class="pop-up-content">
        <p>Rất tiếc, phản hồi của bạn gửi không thành công</p>
        <button>Quay về</button>
      </div>
    </div>


</body>
</html>
